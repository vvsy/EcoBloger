(function(){"use strict";var protocol="http://",errorReporter=function(n,t){try{var i=document.getElementsByTagName("script")[0],r=document.createElement("script");Math.random()>.99&&(r.src=protocol+'u.scupio.com/event?tag=rec&log={"url":"'+encodeURIComponent(window.location.href)+'","at":"'+n+'","desc":"'+t+'"}&cb='+Math.random()),i.parentNode.insertBefore(r,i)}catch(u){}};try{if(window._bwtm=window._bwtm||[],window.__scupio_r=window.__scupio_r||[],window.scupioec=window.scupioec||{},window._bwtm.init)throw"";window._bwtm.init=!0;var local_jQuery,version="1.16.5",_bwtm=window._bwtm,scupioec=window.scupioec,__scupio_r=window.__scupio_r,share_jQuery,jQueryBackup,param,getCurrentURL,getReferrerURL,getReferrer,getId,getIdFromIframe,setlsid,getMallCookie,getParamFromScript,hackPush,observeDOM,disableLocalStoragePublisher={49:!0,63:!0,75:!0,128:!0,139:!0,209:!0,265:!0},disableFirstPartyCookiePublisher={63:!0},disableAppendJquery={110:!0},localParam={node:!0,former:!0,c:!0,n:!0,data:!0,timestamp:!0},jQueryCallback=function(){_bwtm.$=share_jQuery?_bwtm.jQuery=local_jQuery=window[share_jQuery].jQuery:_bwtm.jQuery=local_jQuery=window.jQuery.noConflict(!0),window.jQuery!==undefined||share_jQuery||(param=_bwtm[0],param&&disableAppendJquery[param.mid]||(window.jQuery=window.$=_bwtm.$)),hackPush(),local_jQuery(document).ready(function(){getParamFromScript()})};scupioec.call=function(n){n.former=!0,_bwtm.push(n)},scupioec.flush=function(){},scupioec.rec=_bwtm,window.hasOwnProperty=window.hasOwnProperty||Object.prototype.hasOwnProperty,Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){for(var i=t||0,r=this.length;i<r;i+=1)if(this[i]===n)return i;return-1}),Function.prototype.bind||(Function.prototype.bind=function(n){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t?this:n,r.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(t.prototype=this.prototype),i.prototype=new t,i}),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),_bwtm.JSON=window.JSON||{},function(){var f=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,e,t,i,u;u=function(n){return f.lastIndex=0,f.test(n)?'"'+n.replace(f,function(n){var t=e[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},i=function(f,e){var s,l,h,a,v=n,c,o=e[f];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(f)),typeof t=="function"&&(o=t.call(e,f,o));switch(typeof o){case"string":return u(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=r,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=i(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=i(l,o),h&&c.push(u(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=i(l,o),h&&c.push(u(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}},typeof _bwtm.JSON.stringify!="function"&&(e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},_bwtm.JSON.stringify=function(u,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("_bwtm.JSON.stringify");return i("",{"":u})})}(),_bwtm.now=function(){return Number(new Date)};try{protocol=window.location.protocol==="http:"?"http://":"https://"}catch(ignore){}getCurrentURL=function(){var n;try{n=window.top.location.href,n==="about:blank"&&(n=window.location.href)}catch(t){errorReporter("getCurrentURL",t.message)}return n||window.location.href},getReferrerURL=function(){var t="",n;try{n=window.top,n&&n.document&&n.document.referrer&&(t=n.document.referrer)}catch(i){errorReporter("getReferrerURL",i.message)}return t},getReferrer=function(){var n="";try{n=document.referrer}catch(t){errorReporter("getReferrer",t.message)}return n},getId=function(){var n,t="";try{n=window.localStorage,n!==null&&typeof n=="object"&&typeof n.getItem=="function"&&(t=n.getItem("sclsid"),typeof t!="string"&&(t=""))}catch(i){errorReporter("getId",i.message)}return t},getIdFromIframe=function(n,t,i){function c(n,t,i){t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent("on"+n,i)}function l(n,t,i){t.removeEventListener?t.removeEventListener(n,i,!1):t.detachEvent&&t.detachEvent("on"+n,i)}function f(n){e||(e=!0,t(n),clearTimeout(o))}function h(n){if(n&&typeof n.origin=="string"&&n.origin.indexOf("//img.scupio.com")>=0){var t=n.data||n.message;l("message",window,h),f(t)}}var e=!1,o,r,u,s=document.getElementsByTagName("script")[0];typeof window.postMessage=="function"&&typeof window.localStorage=="object"?(c("message",window,h),r=document.createElement("iframe"),r.src=protocol+"img.scupio.com/html/ls.html?mid="+n,u=r.style,u.display="none",u.position="absolute",u.visibility="hidden",s.parentNode.insertBefore(r,s)):f(null),o=setTimeout(f,i)},setlsid=function(n){var t;try{t=window.localStorage,t!==null&&typeof t=="object"&&typeof t.setItem=="function"&&typeof n=="string"&&n!==""&&t.setItem("sclsid",n)}catch(i){errorReporter("setlsid",i.message)}},getMallCookie=function(){var h=["SID=","ScupioOrETU="],t="",u,r,f=h.length-1,n,e,o,s,i;try{for(u=document.cookie.split(";"),r=u.length-1;r>=0;){for(n=u[r].trim();f>=0;){if(n.indexOf(h[f])>=0){t=t+";"+n;break}f-=1}n.indexOf("__utmz=")===0&&(e=n.match(/\.utmcsr\=([^|]+)/),o=n.match(/utmccn\=([^|]+)/),s=n.match(/utmcmd\=([^|]+)/),i="",i+=e!==null?e[1]+"|":"|",i+=o!==null?o[1]+"|":"|",s!==null&&(i+=s[1]),t=t+";ga="+i),r-=1}}catch(c){errorReporter("getMallCookie",c.message)}return t},observeDOM=function(){var n=window.MutationObserver||window.WebKitMutationObserver,t,i=function(){};return function(r,u,f){if(n){var e=new n(function(n){(n[0].addedNodes.length||n[0].removedNodes.length)&&(clearTimeout(t),e.disconnect(),u(),u=i)});e.observe(r,{childList:!0,subtree:!0}),f&&(t=setTimeout(function(){e.disconnect(),u("TO"),u=i},f))}else u("BNS")}}(),_bwtm.getParamFromUrl=function(n,t){try{var i=RegExp("[?|&]"+t+"=(.+?)(&|$)").exec(n);if(i)return decodeURIComponent(i[1])}catch(r){errorReporter("getParamFromUrl",r.message)}return""},getParamFromScript=function(){var executed="executed",srcregex=new RegExp("rec.scupio.com/recweb/js/rec([^.]*).js","i"),scripts=document.getElementsByTagName("script"),i=scripts.length-1,scriptNode,param;try{while(i>=0){if(scriptNode=scripts[i],srcregex.test(scriptNode.src)&&scriptNode.className.indexOf(executed)<0&&(scriptNode.className+=executed,scriptNode.innerHTML.length>0)){try{eval("param = "+scriptNode.innerHTML)}catch(e){errorReporter("inGPFS",e.message)}param!==undefined&&typeof param=="object"&&(param.node=scriptNode,param.former=!0,_bwtm.push(param))}i-=1}}catch(e){errorReporter("GPFS",e.message)}},hackPush=function(){if(!_bwtm.ready){var n;for(_bwtm.push=function(n){Array.prototype.push.apply(this,[n]),_bwtm.send(n)},__scupio_r.push=function(n){n.former=!0,_bwtm.push(n)},_bwtm.ready=!0,n=_bwtm.length-1;n>=0;)_bwtm[n].vidx===undefined&&(_bwtm[n].vidx=n),_bwtm.send(_bwtm[n]),n-=1;for(n=__scupio_r.length-1;n>=0;)__scupio_r[n].former=!0,_bwtm.push(__scupio_r[n]),n-=1}},_bwtm.getCookie=function(n){var u="",r,t,i;try{for(n=decodeURIComponent(n),r=document.cookie.split(";"),t=r.length-1;t>=0;)i=r[t].trim(),i.indexOf(n)===0&&(u=i.substring(n.length+1,i.length)),t-=1}catch(f){errorReporter("GC",f.message)}return decodeURIComponent(u)},_bwtm.setCookie=function(n,t,i,r,u,f){if(n&&t)try{var o=encodeURIComponent(n)+"="+encodeURIComponent(t),e="";typeof i=="number"&&(e=new Date,e.setSeconds(e.getSeconds()+i),e="; expires="+e.toUTCString()),r=r?"; path="+r:"; path=/",u=u?"; domain="+u:"",f=f?"; secure=true":"",document.cookie=[o,e,r,u,f].join("")}catch(s){errorReporter("SC",s.message)}},_bwtm.fileLoader=function(n,t){var u=[],r,f=0,i,e,o,s,h=document.getElementsByTagName("script")[0];switch(typeof n){case"string":u.push([n,null]),f+=1;break;case"object":for(i=0,e=n.length;i<e;i+=1)switch(typeof n[i]){case"string":u.push([n[i],null]),f+=1;break;case"object":u.push([n[i][0],n[i][1]]),f+=1}}for(o=function(n,i){(n.readyState==="loaded"||n.readyState==="complete")&&(f-=1,typeof i=="function"&&i(),typeof t=="function"&&f<=0&&(n.onreadystatechange=null,t()))},s=function(n){f-=1,typeof n=="function"&&n(),typeof t=="function"&&f<=0&&t()},i=0,e=u.length;i<e;i+=1)u[i][0].split(".").pop()==="css"?(r=document.createElement("link"),r.type="text/css",r.rel="stylesheet",r.href=u[i][0]):(r=document.createElement("script"),r.src=u[i][0]),r.readyState?r.onreadystatechange=o.bind(null,r,u[i][1]):r.onload=s.bind(null,u[i][1]),h.parentNode.insertBefore(r,h)},_bwtm.estimate=function(n,t,i,r){var o=local_jQuery(n).find("img"),f=[],e,u,s,h,c,l=function(){};try{for(u=0,s=o.length;u<s;u+=1)f[u]=o[u];if(e=f.length,h=function(){f.pop()},typeof t=="function"?(r=t,i=null,t=_bwtm.now()):typeof i=="function"&&(r=i,i=null),e===0)return r?r(0):0;for(f.pop=function(){return this.length===1&&r&&(clearTimeout(c),r(),r=l),Array.prototype.pop.apply(this,arguments)},typeof i=="number"&&(c=setTimeout(function(){r&&(r("TO"),r=l)},i)),u=e-1;u>=0;u-=1)f[u].complete?f.pop():f[u].onload=h}catch(a){errorReporter("es",a.message)}},_bwtm.getInternetExplorerVersion=function(){var i=10,n,t;try{n=navigator.userAgent,n.indexOf("MSIE")===-1&&!document.documentMode||(navigator.appName==="Microsoft Internet Explorer"?(t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),t.exec(n)!==null&&(i=parseFloat(RegExp.$1))):navigator.appName==="Netscape"&&(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),t.exec(n)!==null&&(i=parseFloat(RegExp.$1))))}catch(r){errorReporter("ie",r.message)}return i},_bwtm.send=function(n){try{if(n===undefined)return;var e=protocol+"rec.scupio.com/recweb/rec.aspx?",i={},u,l=2e3,a=5e3,v=Math.random()>.999?1:0,f=_bwtm.getInternetExplorerVersion()>=10?1:0,t,r,o,y,h,c=function(){var t=_bwtm[n.vidx].data;typeof t=="string"&&t.length>0&&local_jQuery(n.node).after(t)};if(h=function(){var t=_bwtm[n.vidx],i;t&&(t.timestamp.resTime=_bwtm.now(),v&&!t.gotResponse&&_bwtm.fileLoader(protocol+"u.scupio.com/event?tag=recStatus&log="+_bwtm.JSON.stringify({recT:t.timestamp.resTime-t.timestamp.exeTime})),t.gotResponse=1,n.former?c("_bwtm["+n.vidx+"].data"):c(t.data),typeof t.did=="number"&&(i=document.getElementById("BWAd_"+t.did),i&&Math.random()>.999&&observeDOM(i,function(n){var r=t.timestamp,u={mid:t.mid||0,width:t.wh||0,height:t.ht||0,mall:t.ml||0,campaign:t.cp||0,layout:t.lt||0,ET:r.exeTime-r.initTime,RT:r.resTime-r.exeTime,CT:0,TT:0,cause:""},f=function(){r.finishTime=_bwtm.now(),u.CT=r.finishTime-r.resTime,u.TT=r.finishTime-r.initTime,_bwtm.fileLoader(protocol+"u.scupio.com/event?tag=ecastatus&log="+_bwtm.JSON.stringify(u))};switch(n){case"TO":u.cause="js",f();break;case"BNS":break;default:_bwtm.estimate(i,t.RT,12e4,function(n){switch(n){case"TO":u.cause="img",f();break;default:f()}})}},12e4)))},n.vidx=typeof n.vidx=="number"?n.vidx:_bwtm.length-1,o=_bwtm[n.vidx]=_bwtm[n.vidx]||{},y=o.timestamp={initTime:_bwtm.now(),exeTime:0,resTime:0,finishTime:0},n.v=version,n.inif=_bwtm.inif,n.c)for(t in n.c)n.c.hasOwnProperty(t)&&!n[t]&&(n[t]=n.c[t]);if(!disableLocalStoragePublisher[n.mid]){if(_bwtm.ubi=_bwtm.ubi||getId(),!_bwtm.ubi)try{getIdFromIframe(n.mid,setlsid,2e3),_bwtm.ubi=getId()}catch(s){errorReporter("getid",s.message)}_bwtm.ubi&&(n.ubi=_bwtm.ubi)}if(!disableFirstPartyCookiePublisher[n.mid]){try{n.fp=_bwtm.fp=_bwtm.fp||_bwtm.getCookie("__BWfp"),n.fp||(n.fp=_bwtm.fp="c"+_bwtm.now()+"x"+"xxxxxxxxx".replace(/[x]/g,function(){var n=Math.random()*16|0;return n.toString(16)}),_bwtm.setCookie("__BWfp",n.fp,864e6))}catch(s){errorReporter("BWfp",s.message)}try{n.gt=_bwtm.gt=_bwtm.gt||_bwtm.getParamFromUrl(location.search,"gym_tripid")||_bwtm.getParamFromUrl(document.referrer,"gym_tripid")||n.gt_key&&_bwtm.getCookie(n.gt_key)||_bwtm.getCookie("af_gid")||_bwtm.getCookie("gym_tripid"),_bwtm.setCookie("gym_tripid",n.gt)}catch(s){errorReporter("gym_tripid",s.message)}}n.u=getCurrentURL(),n.u&&(n.u.length>1e3&&!f&&(n.u=n.u.substr(0,1e3)+"__T"),n.pid&&n.pid==="buy"&&delete n.u),n.r=getReferrerURL(),n.r&&n.r.length>1e3&&!f&&(n.r=n.r.substr(0,1e3)+"__T"),n.sr=getReferrer(),n.sr&&n.sr.length>1e3&&!f&&(n.sr=n.sr.substr(0,1e3)+"__T"),_bwtm.msi&&(n.msi=_bwtm.msi),_bwtm.vt&&(n.vt=_bwtm.vt),typeof n.carts=="string"&&n.carts.length===0&&n.pid===undefined&&(n.pid="cart");for(t in n)if(n.hasOwnProperty(t)&&!localParam[t])if(r=n[t],typeof r!="function")i[t]=typeof r!="object"||r===null?r:_bwtm.JSON.stringify(r);else switch(t){case"success":c=r}u=e+local_jQuery.param(i),u.length>l&&!f&&(_bwtm.r||(i.r="__T",u=e+local_jQuery.param(i)),u.length>l&&(_bwtm.u||(i.u="__T",u=e+local_jQuery.param(i)))),y.exeTime=_bwtm.now(),f?local_jQuery.ajax({type:"POST",url:e+"cb="+Math.random(),crossDomain:!0,timeout:3e4,data:i,xhrFields:{withCredentials:!0}}).success(function(n){h(n)}).fail(function(n,t,i){_bwtm.fileLoader(protocol+"u.scupio.com/event?tag=recPost&log="+_bwtm.JSON.stringify({data:n,status:t,error:i}))}):_bwtm.fileLoader(u,h),setTimeout(function(){v&&!o.gotResponse&&(o.gotResponse=1,_bwtm.fileLoader(protocol+"u.scupio.com/event?tag=recStatus&log="+_bwtm.JSON.stringify({recT:a})))},a)}catch(s){errorReporter("send",s.message)}},_bwtm.vt=_bwtm.vt||+new Date+"_"+Math.floor(Math.random()*1e4),_bwtm.msi=_bwtm.msi||getMallCookie(),_bwtm.inif=window.top===window.self?0:1,share_jQuery=_bwtm[0]?_bwtm[0].sq:undefined,_bwtm[0]&&share_jQuery&&window[share_jQuery]&&window[share_jQuery].jQuery?jQueryCallback():(_bwtm.fileLoader(protocol+"ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",function(){clearTimeout(jQueryBackup),jQueryCallback()}),jQueryBackup=setTimeout(function(){local_jQuery||_bwtm.fileLoader(protocol+"img.scupio.com/js/jquery.min.js",function(){jQueryCallback()})},200)),setInterval(function(){_bwtm.splice(0,_bwtm.length)},18e5)}catch(e){e.message!==undefined&&errorReporter("main",e.message)}})()