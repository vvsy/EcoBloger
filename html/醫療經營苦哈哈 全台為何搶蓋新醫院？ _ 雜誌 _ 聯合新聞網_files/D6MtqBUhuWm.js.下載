if (self.CavalryLogger) { CavalryLogger.start_js(["XprR8"]); }

__d("UFIStoryActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHANGE_ACCEPTED_ANSWER:"story_change_accepted_answer",COMMENTS_ARRIVED:"story_comments_arrived",PAGE_IN_COMMENTS:"story_page_in_comments",SHOW_REPLIES:"story_show_replies",SHOW_COMMENTS:"story_show_comments",SPAM_FETCHED:"story_spam_fetched",CHANGE_REACTION:"story_change_reaction",CHANGE_REACTION_FAILURE:"story_change_reaction_failure",CHANGE_REACTION_SUCCESS:"story_change_reaction_success",TOGGLE_REPLIES:"story_toggle_replies",FRIEND_TYPING:"story_friend_typing",SOMEONE_TYPING:"story_someone_typing",TYPING_STOPPED:"story_typing_stopped",LIVE_PIN_COMMENT:"story_live_pin_comment",LIVE_UNPIN_COMMENT:"story_live_unpin_comment",SHOW_FACECAST_REPLIES:"story_show_facecast_replies",HIDE_FACECAST_REPLIES:"story_hide_facecast_replies",ADD_FACECAST_REPLY:"story_add_facecast_reply"})}),null);
__d("UFIStoryAction",["UFIStoryActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={changeAcceptedAnswer:function(a,c,d){return{type:b("UFIStoryActionType").CHANGE_ACCEPTED_ANSWER,instanceID:a.instanceid,ftentidentifier:c.ftentidentifier,comment:c,doAccept:d}},commentsArrived:function(a,c,d,e,f,g){return{type:b("UFIStoryActionType").COMMENTS_ARRIVED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,section:f,newOffset:c,newLength:d,source:e,interactionRequestCorrelationID:g}},pageInComments:function(a,c,d,e,f){return{type:b("UFIStoryActionType").PAGE_IN_COMMENTS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,interactionRequestCorrelationID:a.interactionRequestCorrelationID,commentID:c,direction:d,nextRange:e,section:f}},showComments:function(a){return{type:b("UFIStoryActionType").SHOW_COMMENTS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},showReplies:function(a,c,d){return{type:b("UFIStoryActionType").SHOW_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c,initiatorComment:d}},spamFetched:function(a,c,d,e){return{type:b("UFIStoryActionType").SPAM_FETCHED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,viewas:c,commentIDs:d,parentCommentID:e}},changeReaction:function(a,c,d){var e=arguments.length<=3||arguments[3]===undefined?null:arguments[3],f=arguments.length<=4||arguments[4]===undefined?null:arguments[4];return{type:b("UFIStoryActionType").CHANGE_REACTION,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,contextArgs:a,reactionType:c,target:d,sphericalYaw:e,sphericalPitch:f}},changeReactionSuccess:function(a,c){return{type:b("UFIStoryActionType").CHANGE_REACTION_SUCCESS,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:c}},changeReactionFailure:function(a,c){return{type:b("UFIStoryActionType").CHANGE_REACTION_FAILURE,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,reactionType:c}},toggleReplies:function(a,c){return{type:b("UFIStoryActionType").TOGGLE_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c}},friendTyping:function(a){return{type:b("UFIStoryActionType").FRIEND_TYPING,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},someoneTyping:function(a){return{type:b("UFIStoryActionType").SOMEONE_TYPING,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},typingStopped:function(a){return{type:b("UFIStoryActionType").TYPING_STOPPED,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},pinComment:function(a,c){var d=arguments.length<=2||arguments[2]===undefined?null:arguments[2];return{type:b("UFIStoryActionType").LIVE_PIN_COMMENT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c,pinEventID:d}},unpinComment:function(a){var c=arguments.length<=1||arguments[1]===undefined?null:arguments[1];return{type:b("UFIStoryActionType").LIVE_UNPIN_COMMENT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:null,pinEventID:c}},showFacecastReplies:function(a,c){return{type:b("UFIStoryActionType").SHOW_FACECAST_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,commentID:c}},hideFacecastReplies:function(a){return{type:b("UFIStoryActionType").HIDE_FACECAST_REPLIES,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},addFacecastReply:function(a,c){return{type:b("UFIStoryActionType").ADD_FACECAST_REPLY,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,replyCommentID:c}}};e.exports=a}),null);
__d("ReactTransitionEvents",["fbjs/lib/ExecutionEnvironment","getVendorPrefixedEventName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[];function a(){var a=b("getVendorPrefixedEventName")("animationend"),c=b("getVendorPrefixedEventName")("transitionend");a&&g.push(a);c&&g.push(c)}b("fbjs/lib/ExecutionEnvironment").canUseDOM&&a();function h(a,b,c){a.addEventListener(b,c,!1)}function i(a,b,c){a.removeEventListener(b,c,!1)}c={addEndEventListener:function(a,b){if(g.length===0){window.setTimeout(b,0);return}g.forEach(function(c){h(a,c,b)})},removeEndEventListener:function(a,b){if(g.length===0)return;g.forEach(function(c){i(a,c,b)})}};e.exports=c}),null);
__d("KeyframeAnimation",["invariant","CSS","ReactTransitionEvents","UserAgent","nullthrows","queryThenMutateDOM","uniqueID"],(function(a,b,c,d,e,f,g){__p&&__p();var h="KeyframeAnimation-",i="animation-";function j(a){"use strict";__p&&__p();this.$3=a;this.$8=!0;this.$5=new Map();this.$5.set("animation-name",h+b("uniqueID")());this.$4=new Map();if(!j.$1){a=document.createElement("style");document.head.appendChild(a);a=b("nullthrows")(a.sheet);a instanceof CSSStyleSheet||g(0);j.$1=a;j.$2=new Map()}this.$9=b("UserAgent").isEngine("WebKit")?"-webkit-":""}j.prototype.defineKeyframes=function(a){"use strict";__p&&__p();for(var a=Object.entries(a),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d[0];d=d[1];e=parseFloat(e,10);e>=0&&e<=100||g(0);var f="";for(var d=Object.entries(d).sort(),h=Array.isArray(d),i=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];f+=k+": "+j+";"}this.$4.set(e,f)}return this};j.prototype.defineKeyframe=function(a,b){"use strict";__p&&__p();a=parseFloat(a,10);a>=0&&a<=100||g(0);var c="";for(var b=Object.entries(b).sort(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var h=f[0];f=f[1];(h.substring(0,i.length)===i||h==="transform")&&(h=this.$9+h);c+=h+": "+f+";"}this.$4.set(a,c);return this};j.prototype.setDirection=function(a){"use strict";this.$5.set("animation-direction",a);return this};j.prototype.setDuration=function(a){"use strict";this.$5.set("animation-duration",a+"s");return this};j.prototype.setTimingFunction=function(a){"use strict";this.$5.set("animation-timing-function",a);return this};j.prototype.setIterationCount=function(a){"use strict";this.$5.set("animation-iteration-count",a+"");return this};j.prototype.setFillMode=function(a){"use strict";this.$5.set("animation-fill-mode",a);return this};j.prototype.setAnimationDelay=function(a){"use strict";this.$5.set("animation-delay",a+"s");return this};j.prototype.setFinishedCallback=function(a){"use strict";this.$6=a;return this};j.prototype.setMemoize=function(a){"use strict";this.$8=a;return this};j.prototype.start=function(){"use strict";__p&&__p();this.$5.has("animation-duration")||g(0);if(this.$7){this.restartAnimation();return}var a=this.$3,c=this.$10(),d=this.$11(c),e=void 0;if(this.$8&&j.$2.has(d)){var f=b("nullthrows")(j.$2.get(d));this.$5.set("animation-name",f);e=f}else j.$1.insertRule(c,j.$1.cssRules.length),e=b("nullthrows")(this.$5.get("animation-name")),this.$8&&j.$2.set(d,e);f=this.$12(e);(!this.$8||!j.$2.has(f))&&(j.$1.insertRule(f,j.$1.cssRules.length),this.$8&&j.$2.set(f,e));b("queryThenMutateDOM")(function(){},function(){this.$13(),b("CSS").addClass(a,e)}.bind(this))};j.prototype.restartAnimation=function(){"use strict";var a=this.$3;b("CSS").removeClass(a,b("nullthrows")(this.$5.get("animation-name")));a.offsetWidth;this.$7=!1;b("CSS").addClass(a,b("nullthrows")(this.$5.get("animation-name")))};j.prototype.$13=function(){"use strict";b("ReactTransitionEvents").addEndEventListener(this.$3,this.$14.bind(this))};j.prototype.$12=function(a){"use strict";__p&&__p();var b="";b+="."+a+" {";for(var a=this.$5,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];b+=f+": "+e+";"}b+="}";return b};j.prototype.$10=function(){"use strict";__p&&__p();var a=this.$5.get("animation-name"),c;void 0;b("UserAgent").isEngine("WebKit")?c="@-webkit-keyframes":c="@keyframes";c=c+" "+a+" {";for(var a=this.$4,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c+=g+"% {"+f+"}"}return c+"}"};j.prototype.$14=function(){"use strict";this.$7||(this.$6&&this.$6(this.$3),this.$7=!0)};j.prototype.$11=function(a){"use strict";return a.substring(a.indexOf("{")+1).toLowerCase().replace(/\s+/g,"")};e.exports=j}),null);
__d("CSSAnimationBuilder",["KeyframeAnimation"],(function(a,b,c,d,e,f){a={keyframeAnimation:function(a){return new(b("KeyframeAnimation"))(a)}};e.exports=a}),null);
__d("ReactionIconAnimation",["csx","cx","CSSAnimationBuilder","DOM","DOMVector","Locale","Parent","UFIReactionTypes","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="._zw3 .UFILikeLink",j="._5jmm",k=".photoUfiContainer",l=50,m=20;function n(a){a=b("UFIReactionTypes").reactions[a].class_name;return b("DOM").create("div",{className:"_x6_ _3uet _4e-m"},[b("DOM").create("i",{className:b("joinClasses")(a,"_2p78 _9--")})])}var o={animateToParentStoryLikeButton:function(a,c,d){__p&&__p();var e=b("Parent").bySelector(a,j)||b("Parent").bySelector(a,k);e=e&&b("DOM").scry(e,i)[0];if(!e)return;var f=b("DOMVector").getElementPosition(e),g=b("DOMVector").getElementPosition(a);if(b("Locale").isRTL()){e=b("DOMVector").getElementDimensions(e);f.x=f.x+e.x-13}e=b("Parent").bySelector(a,j)?l:m;a=f.x+e;o.trigger({durationMs:d,reactionType:c,transformStart:"translate("+g.x+"px, "+g.y+"px)",transformEnd:"translate("+a+"px, "+(f.y+2)+"px) scale(0.82, 0.82)"})},trigger:function(a){var c=n(a.reactionType);a=b("CSSAnimationBuilder").keyframeAnimation(c).defineKeyframe("0%",{opacity:1,transform:a.transformStart}).defineKeyframe("100%",{opacity:1,transform:a.transformEnd}).setDuration(a.durationMs/1e3).setIterationCount(1);document.body&&document.body.appendChild(c);a.start()}};e.exports=o}),null);