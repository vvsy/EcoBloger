(function(d){var q={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},k=d(window),r=d(document),l=[],n=k.height(),g=function(){for(var b=k.scrollTop(),e=r.height(),c=e-n,c=b>c?c-b:0,m=0;m<l.length;m++){var a=l[m],f=a.stickyWrapper.offset().top-a.topSpacing-c,g=a.stickyElement.attr("id");if(b<=f)null!==a.currentTop&&(a.stickyElement.css("position","").css("top","").removeClass(g+"-container"),a.stickyElement.parent().removeClass(a.className),
a.currentTop=null);else{f=e-a.stickyElement.outerHeight()-a.topSpacing-a.bottomSpacing-b-c;if(0>f)f+=a.topSpacing;else if(0<d("#footer").length)var h=e-d("#footer").offset().top,f=!(f<=h+50)||d("body").hasClass("single-template-living")&&d("body").hasClass("single-template-living-special-topic")?a.topSpacing:f-h-30;a.currentTop!=f&&(a.stickyElement.css("position","fixed").css("top",f).addClass(g+"-container"),"undefined"!==typeof a.getWidthFrom&&a.stickyElement.css("width",d(a.getWidthFrom).width()),
a.stickyElement.parent().addClass(a.className),a.currentTop=f)}}},p=function(){n=k.height()},h={init:function(b){var e=d.extend(q,b);return this.each(function(){var c=d(this),b=c.attr("id"),b=d("<div></div>").attr("id",b+"-sticky-wrapper").addClass(e.wrapperClassName);c.wrapAll(b);e.center&&c.parent().css({width:c.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"==c.css("float")&&c.css({"float":"none"}).parent().css({"float":"right"});b=c.parent();b.css("height",c.outerHeight());l.push({topSpacing:e.topSpacing,
bottomSpacing:e.bottomSpacing,stickyElement:c,currentTop:null,stickyWrapper:b,className:e.className,getWidthFrom:e.getWidthFrom})})},update:g};window.addEventListener?(window.addEventListener("scroll",g,!1),window.addEventListener("resize",p,!1)):window.attachEvent&&(window.attachEvent("onscroll",g),window.attachEvent("onresize",p));d.fn.sticky=function(b){if(h[b])return h[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof b&&b)d.error("Method "+b+" does not exist on jQuery.sticky");
else return h.init.apply(this,arguments)};d(function(){setTimeout(g,0)})})(jQuery);
