define(function(){var _type_module='0',_type_cell='1',_type_tab='2',_type_row='3',_type_list='4';return{getType:function(env){return $(env).data('type');},getIndex:function(env){return $(env).data('index');},getChildLen:function(env){return $(env).data('child');},getIn:function(env){var $this=$(env);if($this.children('.bg-drop-layout').length){return $this.children('.bg-drop-layout').children('.in');}return $this.children('.in');},getHd:function(env,add){var $in=this.getIn(env),$hd=$in.children('.hd');if(!$hd.length&&add!==false){$hd=$('<div class="hd"><div class="in"></div></div>');$in.prepend($hd);}return $hd;},getHdIn:function(env){return this.getIn(this.getHd(env));},getCt:function(env){return this.getIn(env).children('.ct');},getCtIn:function(env){return this.getIn(this.getCt(env));},getCtList:function(env){return this.getCtIn(env).children('ul');},getCtItem:function(env){return this.getCtList(env).children('li');},getChildGroup:function(env){if(this.getCtIn(env).children('[data-type]').length){return this.getCtIn(env).children('[data-type]');}if(this.getCtItem(env).children('[data-type]').length){return this.getCtItem(env).children('[data-type]');}return $();},getCtItemLen:function(env){return this.getCtList(env).data('data-child');},getFt:function(env,add){var $in=this.getIn(env),$ft=$in.children('.ft');if(!$ft.length&&add!==false){$ft=$('<div class="ft"><div class="in"></div></div>');$in.append($ft);}return $ft;},getFtIn:function(env){return this.getIn(this.getFt(env));},getFtList:function(env,add){var $ftIn=this.getFtIn(env)
$ul=$ftIn.children('ul');if(!$ul.length&&add!==false){$ul=$('<ul data-index="0"></ul>');$ftIn.append($ul);}return $ul;},getFtItem:function(env,add){var $li=this.getFtList(env).children('li');return $li;},getFtItemBtn:function(env,className,add){var $ftList=this.getFtList(env),$btn=$ftList.children('.'+className);if(!$btn.length&&add!==false){$btn=$('<li class="'+className+'"><span><a href="#">'+className+'</a></span></li>');$ftList.append($btn);this.updateFtItemLen(env);this.updateIndex($btn);}return $btn;},updateIndex:function(env){var $this=$(this)
$parent=$this.parent(),$childs=$parent.children(),$childs_l=$childs.length;if($parent.is('ul')){$parent.attr('data-child',$childs_l);}for(var i=0;i<$childs_l;i++){$childs.eq(i).attr('data-index',i+1);}return $this;},updateChildLen:function(env){var $this=$(this),$childs=this.getChildGroup(env),$childs_length=$childs.length;$this.attr('data-child',$item_length);return $this;},updateCtItemLen:function(env){var $this=$(this),$list=this.getCtList(env);$list.attr('data-child',$list.children().length);return $this;},updateFtItemLen:function(env){var $this=$(this),$list=this.getFtList(env,false),$list_l=$list.length;for(i=0;i<$list_l;i++){var $ul=$list.eq(i);$ul.attr('data-child',$ul.children().length);}return $this;},buildGroup:function(){}}});