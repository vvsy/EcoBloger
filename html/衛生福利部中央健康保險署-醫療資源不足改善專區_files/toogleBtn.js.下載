define(['getNode'],function(getNode){function main(env,opt,file){var $set={targetNode:null,targetClass:null,thisClass:'is-active',btnText:null,activeText:null,debug:false}
$.extend($set,opt);var _eventNmae=file;var $env=$(env),$target=$($set.targetNode),_class=$env.attr('class'),$btn=null;if(_class.match('simple-text')||_class.match('simple-pic')){$btn=$env.find('a');}else{$btn=getNode.getFtItemBtn(env,'more').find('a');}if($set.btnText!==null){$btn.text($set.btnText);}if($set.btnText){$btn.text($set.btnText);}var $env=$(env);if(!$target.length){$target=getNode.getCt(env);}$btn.on(_eventNmae,function(){var $this=$(this);$target.toggleClass($set.targetClass);$env.toggleClass($set.thisClass);if($set.activeText&&$this.text()===$set.btnText){$this.text($set.activeText);}else if($set.activeText&&$this.text()===$set.activeText){$this.text($set.btnText);}});$btn.on('click',function(evt){evt.preventDefault();$(this).trigger(_eventNmae);});if($set.debug){console.log('預設值:',$set);console.log('檔案 '+file+'.js 已順利執行。');}}return main;});