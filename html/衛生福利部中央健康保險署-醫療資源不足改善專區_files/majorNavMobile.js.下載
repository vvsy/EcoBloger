define(['getNode'],function(getNode){function main(env,opt,file){var $set={activeClass:'is-active',singleClass:'is-single',debug:false}
$.extend($set,opt);var $li=getNode.getCtItem(env),$child_node_in=getNode.getIn($li.children('[data-type]'));var $child_node_in=$child_node_in.filter(function(i){var $this=$(this),$child_len=$this.children('.ct').find('a').length;if(!$child_len){$this.closest('li').addClass($set.singleClass);return false;}else{return true;}}),$child_node_header=$child_node_in.children('.hd'),$a=$child_node_header.find('a');var _eventNmae=file,_active=$set.activeClass;$a.on(_eventNmae,function(){var $this=$(this),_index=$this.closest('li').index();$li.eq(_index).toggleClass(_active);});$a.on('click',function(evt){evt.preventDefault();$(this).trigger(_eventNmae);});if($set.debug){console.log('預設值:',$set);console.log('檔案 '+file+'.js 已順利執行。');}}return main;});